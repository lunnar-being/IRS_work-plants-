{"version":3,"file":"CurrentRefinements.vue.js","sources":["../../../src/components/CurrentRefinements.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"[suit(), noRefinement && suit('','noRefinement')]\"\n    v-if=\"state\"\n  >\n    <slot\n      :refine=\"state.refine\"\n      :items=\"state.items\"\n      :createURL=\"state.createURL\"\n    >\n      <ul :class=\"suit('list')\">\n        <li\n          v-for=\"item in state.items\"\n          :key=\"item.attribute\"\n          :class=\"suit('item')\"\n        >\n          <slot\n            name=\"item\"\n            :refine=\"item.refine\"\n            :item=\"item\"\n            :createURL=\"state.createURL\"\n          >\n            <span :class=\"suit('label')\">{{ item.label | capitalize }}: </span>\n            <span\n              v-for=\"refinement in item.refinements\"\n              :key=\"createItemKey(refinement)\"\n              :class=\"suit('category')\"\n            >\n              <slot\n                name=\"refinement\"\n                :refine=\"item.refine\"\n                :refinement=\"refinement\"\n                :createURL=\"state.createURL\"\n              >\n                <span :class=\"suit('categoryLabel')\">\n                  <q v-if=\"refinement.attribute === 'query'\">{{ refinement.label }}</q>\n                  <template v-else>\n                    {{ refinement.label }}\n                  </template>\n                </span>\n                <button\n                  :class=\"suit('delete')\"\n                  @click=\"item.refine(refinement)\"\n                >\n                  âœ•\n                </button>\n              </slot>\n            </span>\n          </slot>\n        </li>\n      </ul>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { connectCurrentRefinements } from 'instantsearch.js/es/connectors';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\n\nexport default {\n  name: 'AisCurrentRefinements',\n  mixins: [\n    createSuitMixin({ name: 'CurrentRefinements' }),\n    createWidgetMixin({ connector: connectCurrentRefinements }),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state =>\n        Boolean(state.items) && state.items.length > 0,\n    }),\n  ],\n  props: {\n    // no default because included and excluded are incompatible\n    // eslint-disable-next-line vue/require-default-prop\n    includedAttributes: {\n      type: Array,\n    },\n    // no default because included and excluded are incompatible\n    // eslint-disable-next-line vue/require-default-prop\n    excludedAttributes: {\n      type: Array,\n    },\n    transformItems: {\n      type: Function,\n      default(items) {\n        return items;\n      },\n    },\n  },\n  computed: {\n    noRefinement() {\n      return this.state && this.state.items.length === 0;\n    },\n    widgetParams() {\n      return {\n        includedAttributes: this.includedAttributes,\n        excludedAttributes: this.excludedAttributes,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    createItemKey({ attribute, value, type, operator }) {\n      return [attribute, type, value, operator].join(':');\n    },\n  },\n  filters: {\n    capitalize(value) {\n      if (!value) return '';\n      return (\n        value\n          .toString()\n          .charAt(0)\n          .toLocaleUpperCase() + value.toString().slice(1)\n      );\n    },\n  },\n};\n</script>\n"],"names":["render","name","mixins","createSuitMixin","createWidgetMixin","connector","connectCurrentRefinements","createPanelConsumerMixin","mapStateToCanRefine","state","Boolean","items","length","props","includedAttributes","type","Array","excludedAttributes","transformItems","Function","default","computed","noRefinement","this","widgetParams","methods","createItemKey","ref","attribute","value","join","filters","capitalize","toString","charAt","toLocaleUpperCase","slice"],"mappings":"mQA6De,CAACA,+7BACdC,KAAM,wBACNC,OAAQ,CACNC,EAAgB,CAAEF,KAAM,uBACxBG,EAAkB,CAAEC,UAAWC,IAC/BC,EAAyB,CACvBC,6BAAqBC,UACnBC,QAAQD,EAAME,QAAUF,EAAME,MAAMC,OAAS,MAGnDC,MAAO,CAGLC,mBAAoB,CAClBC,KAAMC,OAIRC,mBAAoB,CAClBF,KAAMC,OAERE,eAAgB,CACdH,KAAMI,SACNC,iBAAQT,GACN,OAAOA,KAIbU,SAAU,CACRC,wBACE,OAAOC,KAAKd,OAAqC,IAA5Bc,KAAKd,MAAME,MAAMC,QAExCY,wBACE,MAAO,CACLV,mBAAoBS,KAAKT,mBACzBG,mBAAoBM,KAAKN,mBACzBC,eAAgBK,KAAKL,kBAI3BO,QAAS,CACPC,uBAAcC,+BACZ,MAAO,CAACC,SAAiBC,cAAiBC,KAAK,OAGnDC,QAAS,CACPC,oBAAWH,GACT,OAAKA,EAEHA,EACGI,WACAC,OAAO,GACPC,oBAAsBN,EAAMI,WAAWG,MAAM,GAL/B"}